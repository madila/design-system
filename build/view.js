import*as e from"@wordpress/interactivity";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const n=(i={getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store,withScope:()=>e.withScope},l={},t.d(l,i),l),r=new CustomEvent("frame-navigates-to",{bubbles:!0}),{state:o,callbacks:s,actions:a}=(0,n.store)("design-system-frame",{state:{w:null,NF:50,rID:null,n:null,clientX:0},actions:{_setFrame:()=>{const{ref:e}=(0,n.getElement)(),t=(0,n.getContext)();t.locked=!1;const r=e.classList.contains("wp-block-design-system-frame")?e.firstElementChild:e.parentElement;r.style.setProperty("--i",t.current),r.classList.remove("smooth");const{children:o}=r.firstElementChild;[...o].forEach(((e,n)=>{e.ariaCurrent=n===t.current?"step":null}))},unify:e=>e?(o.clientX=e.changedTouches?e.changedTouches[0]:e,o.clientX):o.clientX,lock:e=>{const{ref:t}=(0,n.getElement)(),r=(0,n.getContext)();r.x0=a.unify(e).clientX,r.locked=!0,t.parentElement.classList.add("smooth"),t.onpointermove=(0,n.withScope)((e=>{a.drag(e)})),t.parentElement.onmouseleave=(0,n.withScope)((e=>{a.move(e)})),t.setPointerCapture(e.pointerId)},drag:e=>{e.preventDefault();const t=(0,n.getContext)();if(!t.locked)return;const{ref:r}=(0,n.getElement)();t.drag=!0,t.tension++;const s=+((a.unify(e).clientX-t.x0)/o.w).toFixed(2),i=t.current-s;r.parentElement.style.setProperty("--i",`${i}`),(s>.4||s<-.4||t.tension>12)&&a.move(e)},move:e=>{const t=(0,n.getContext)();if(!t.locked)return;t.tension=0;const r=a.unify(e).clientX-t.x0,s=Math.sign(r);let i=+(s*r/o.w).toFixed(2);const l=+(r/o.w).toFixed(2);t.ini=t.current-s*i,t.fin=t.current;const{ref:c}=(0,n.getElement)();let d;if(c.onpointermove=null,c.parentElement.onmouseleave=null,e.hasOwnProperty("pointerId")&&c.releasePointerCapture(e.pointerId),o.n=2+Math.round(i),t.x0=null,l>0)d=t.current-1,d<=0&&(d=0);else{d=t.current+1;const e=t.N-1;d>e&&(d=e)}t.current=d,a._setFrame(e)},keydown:e=>{const{keyCode:t}=e,r=(0,n.getContext)();let o,s=r.current,i=!1;switch(t){case 37:e.preventDefault(),o=r.current-1,i=o<0,s=i?0:o;break;case 39:e.preventDefault(),o=r.current+1,i=o>=r.N,s=i?r.current:o}r.current=s,r.fin=r.current,r.locked=i,a._setFrame()},dispatchNavigationEvent:e=>{e.preventDefault();const t=(0,n.getContext)(),{ref:o}=(0,n.getElement)();t.dot.selected=!0,t.current="index"in o.dataset?parseInt(o.dataset.index):t.current,o.dispatchEvent(r)},onNavigation:e=>{e.stopPropagation(),a._setFrame()},start:()=>{const{ref:e}=(0,n.getElement)(),t=(0,n.getContext)();s.size(),t.N=e.children.length,t.ready=!0;const{x:r,width:o}=e.parentElement.parentElement.getBoundingClientRect(),{innerWidth:i}=window;e.parentElement.style.setProperty("--n",`${t.N}`),e.parentElement.style.setProperty("--frame-offset-left",`${r}px`),e.parentElement.style.setProperty("--frame-offset-right",i-(o+r)+"px");const{children:l}=e;[...l].forEach(((n,r)=>{n.ariaCurrent=r===t.current?"step":null,n.ariaRoleDescription="slide",n.role="tabpanel",n.id=`${e.id}-${r}`})),a._setFrame()}},callbacks:{size:()=>{o.w=window.innerWidth;const{ref:e}=(0,n.getElement)(),{x:t,width:r}=e.parentElement.getBoundingClientRect();e.parentElement.style.setProperty("--inner-group-max-width",`${r}px`)},resetSelected:()=>{const e=(0,n.getContext)("design-system-frame");e.list.forEach((t=>t.disabled=t.index===e.current?"true":null))},bounceOut:(e,t=2.75,n=1.5)=>1-Math.pow(1-e,t)*Math.abs(Math.cos(Math.pow(e,n)*(o.n+.5)*Math.PI))}});var i,l;