import*as e from"@wordpress/interactivity";var t={d:(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const n=(s={getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store},a={},t.d(a,s),a),i=function(e,t=1.675){return 1-Math.pow(1-e,t)},{state:o,callbacks:l,actions:r}=(0,n.store)("design-system-frame",{state:{locked:!1,w:null,x0:null,N:0,ini:null,fin:0,i:0,rID:null,anf:null,NF:30,cf:0},actions:{lock:e=>{const{ref:t}=(0,n.getElement)();o.x0=r.unify(e).clientX,o.locked=!0,t.classList.add("smooth")},unify:e=>e.changedTouches?e.changedTouches[0]:e,animate:()=>{const{ref:e}=(0,n.getElement)();Number.isNaN(i(o.cf/o.anf))||(e.style.setProperty("--i",o.ini+(o.fin-o.ini)*i(o.cf/o.anf)),o.cf===o.anf&&r.stopAnimation())},stopAnimation:()=>{cancelAnimationFrame(o.rID),o.rID=null},drag:e=>{if(e.preventDefault(),!o.locked)return;const{ref:t}=(0,n.getElement)(),i=r.unify(e).clientX;t.style.setProperty("--tx",`${Math.round(i-o.x0)}px`);let l=+((i-o.x0)/o.w).toFixed(2);t.style.setProperty("--i",o.i-l)},move:e=>{if(!o.locked)return;let t=r.unify(e).clientX-o.x0,i=Math.sign(t),l=+(i*t/o.w).toFixed(2);o.ini=o.i-i*l,(o.i>0||i<0)&&(o.i<o.N-1||i>0)&&l>.2&&(o.i-=i,l=1-l);const{ref:s}=(0,n.getElement)();o.fin=o.i,o.anf=Math.round(l*o.NF),o.i=Math.round(o.fin.toFixed()),o.x0=null;const a=new CustomEvent("frame-change-step",{detail:{scroll:!1,getIndex:()=>o.fin},bubbles:!0});s.dispatchEvent(a),s.classList.remove("smooth"),o.locked=!1},keydown:e=>{const{keyCode:t}=e;let n;switch(t){case 37:e.preventDefault(),n=o.i-1<0?0:o.i-1,o.locked=!0;break;case 39:e.preventDefault(),n=o.i+1>=o.N?o.i:o.i+1,o.locked=!0;break;default:return n=o.i,o.locked=!0,!1}o.i=n,o.fin=o.i,o.locked=!1},go:e=>{const{ref:t}=(0,n.getElement)();(0,n.getContext)().dot.selected=!0,o.i=parseInt(t.dataset.index),o.fin=o.i.toFixed()},init:()=>{const{ref:e}=(0,n.getElement)(),t=(0,n.getContext)();l.size(),o.N=e.children.length,e.style.setProperty("--n",o.N.toString()),t.ready=!0}},callbacks:{size:()=>{o.w=window.innerWidth},resetSelected:()=>{(0,n.getContext)("design-system-frame").list.forEach((e=>e.selected=e.index===o.i))}}});var s,a;