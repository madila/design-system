import*as e from"@wordpress/interactivity";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const n=(l={getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store},i={},t.d(i,l),i),r=new CustomEvent("frame-navigates-to",{bubbles:!0}),{state:s,callbacks:o,actions:a}=(0,n.store)("design-system-frame",{state:{w:null,NF:30},actions:{_setFrame:()=>{const{ref:e}=(0,n.getElement)(),t=(0,n.getContext)();t.locked=!1;const r=e.classList.contains("wp-block-design-system-frame")?e.firstElementChild:e.parentElement;r.style.setProperty("--i",t.current),r.classList.remove("smooth");const{children:s}=r.firstElementChild;[...s].forEach(((e,n)=>{e.ariaCurrent=n===t.current?"step":null,e.ariaRoleDescription="slide",e.role="tabpanel"}))},unify:e=>e.changedTouches?e.changedTouches[0]:e,lock:e=>{const{ref:t}=(0,n.getElement)(),r=(0,n.getContext)();r.x0=a.unify(e).clientX,r.locked=!0,t.parentElement.classList.add("smooth")},drag:e=>{e.preventDefault();const t=(0,n.getContext)();if(!t.locked)return;t.drag=!0;const{ref:r}=(0,n.getElement)(),o=+((a.unify(e).clientX-t.x0)/s.w).toFixed(2);r.parentElement.style.setProperty("--i",""+(t.current-o))},move:e=>{const t=(0,n.getContext)();if(!t.locked)return;t.drag=!1;const r=a.unify(e).clientX-t.x0,o=Math.sign(r);let l=+(o*r/s.w).toFixed(2);t.ini=t.current-o*l,(t.current>0||o<0)&&(t.current<t.N-1||o>0)&&l>.2&&(t.current-=o,l=1-l),t.fin=t.current,t.anf=Math.round(l*t.NF),t.x0=null,t.current=Math.round(t.fin.toFixed()),a._setFrame(e)},keydown:e=>{const{keyCode:t}=e,r=(0,n.getContext)();let s,o=r.current,l=!1;switch(t){case 37:e.preventDefault(),s=r.current-1,l=s<0,o=l?0:s;break;case 39:e.preventDefault(),s=r.current+1,l=s>=r.N,o=l?r.current:s}r.current=o,r.fin=r.current,r.locked=l,a._setFrame()},dispatchNavigationEvent:e=>{e.preventDefault();const t=(0,n.getContext)(),{ref:s}=(0,n.getElement)();t.dot.selected=!0,t.current="index"in s.dataset?parseInt(s.dataset.index):t.current,s.dispatchEvent(r)},onNavigation:e=>{e.stopPropagation(),a._setFrame()},start:()=>{const{ref:e}=(0,n.getElement)(),t=(0,n.getContext)();o.size(),t.N=e.children.length,t.ready=!0;const{x:r,width:s}=e.parentElement.parentElement.getBoundingClientRect(),{innerWidth:l}=window;e.parentElement.style.setProperty("--n",`${t.N}`),e.parentElement.style.setProperty("--frame-offset-left",`${r}px`),e.parentElement.style.setProperty("--frame-offset-right",l-(s+r)+"px"),a._setFrame()}},callbacks:{size:()=>{s.w=window.innerWidth;const{ref:e}=(0,n.getElement)(),{x:t,width:r}=e.parentElement.parentElement.getBoundingClientRect(),{innerWidth:o}=window;e.parentElement.style.setProperty("--frame-offset-left",`${t}px`),e.parentElement.style.setProperty("--frame-offset-right",o-(r+t)+"px")},resetSelected:()=>{const e=(0,n.getContext)("design-system-frame");e.list.forEach((t=>t.disabled=t.index===e.current?"disabled":null))}}});var l,i;