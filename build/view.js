import*as e from"@wordpress/interactivity";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const n=(l={getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store},i={},t.d(i,l),i),r=new CustomEvent("frame-navigates-to",{bubbles:!0}),{state:s,callbacks:o,actions:a}=(0,n.store)("design-system-frame",{state:{locked:!1,scrolled:!1,drag:!0,current:0,w:null,x0:null,N:0,ini:null,fin:0,anf:null,NF:30},actions:{_setFrame:()=>{s.locked=!1;const{ref:e}=(0,n.getElement)(),t=e.classList.contains("wp-block-design-system-frame")?e.firstElementChild:e.parentElement;t.style.setProperty("--i",s.current),t.classList.remove("smooth")},unify:e=>e.changedTouches?e.changedTouches[0]:e,lock:e=>{const{ref:t}=(0,n.getElement)();s.x0=a.unify(e).clientX,s.locked=!0,t.parentElement.classList.add("smooth")},drag:e=>{if(e.preventDefault(),!s.locked)return;s.drag=!0;const{ref:t}=(0,n.getElement)();let r=+((a.unify(e).clientX-s.x0)/s.w).toFixed(2);t.parentElement.style.setProperty("--i",""+(s.current-r))},move:e=>{if(!s.locked)return;s.drag=!1;let t=a.unify(e).clientX-s.x0,r=Math.sign(t),o=+(r*t/s.w).toFixed(2);s.ini=s.current-r*o,(s.current>0||r<0)&&(s.current<s.N-1||r>0)&&o>.2&&(s.current-=r,o=1-o);const{ref:l}=(0,n.getElement)();s.fin=s.current,s.anf=Math.round(o*s.NF),s.x0=null,s.current=Math.round(s.fin.toFixed()),a._setFrame(e)},keydown:e=>{const{keyCode:t}=e;let n,r=s.current,o=!1;switch(t){case 37:e.preventDefault(),n=s.current-1,o=n<0,r=o?0:n;break;case 39:e.preventDefault(),n=s.current+1,o=n>=s.N,r=o?s.current:n}s.current=r,s.fin=s.current,s.locked=o,a._setFrame()},dispatchNavigationEvent:e=>{e.preventDefault();const t=(0,n.getContext)(),{ref:o}=(0,n.getElement)();t.dot.selected=!0,s.current="index"in o.dataset?parseInt(o.dataset.index):s.current,o.dispatchEvent(r)},onNavigation:function*(e){e.stopPropagation(),a._setFrame()},start:()=>{const{ref:e}=(0,n.getElement)(),t=(0,n.getContext)();o.size(),s.N=e.children.length,t.ready=!0;const{x:r,width:l}=e.parentElement.parentElement.getBoundingClientRect(),{innerWidth:i}=window;e.parentElement.style.setProperty("--frame-offset-left",`${r}px`),e.parentElement.style.setProperty("--frame-offset-right",i-(l+r)+"px"),a._setFrame()}},callbacks:{size:()=>{s.w=window.innerWidth;const{ref:e}=(0,n.getElement)(),{x:t,width:r}=e.parentElement.parentElement.getBoundingClientRect(),{innerWidth:o}=window;e.parentElement.style.setProperty("--frame-offset-left",`${t}px`),e.parentElement.style.setProperty("--frame-offset-right",o-(r+t)+"px")},resetSelected:()=>{(0,n.getContext)("design-system-frame").list.forEach((e=>e.selected=e.index===s.current))}}});var l,i;