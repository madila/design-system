{"version":3,"file":"view.js","mappings":";;;;;;;;;;;;;AAAO,MAAMA,eAAe,GAAG,IAAIC,WAAW,CAAE,oBAAoB,EAAE;EACrEC,OAAO,EAAE;AACV,CAAE,CAAC;;;;;;;;;;ACFH;AACA,aAAa,6BAA6B;AAC1C;AACA;AACA;;;;;;SCJA;SACA;;SAEA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;;SAEA;SACA;;SAEA;SACA;SACA;;;;;UCtBA;UACA;UACA;UACA;UACA,yCAAyC,wCAAwC;UACjF;UACA;UACA;;;;;UCPA;;;;;UCAA;UACA;UACA;UACA,uDAAuD,iBAAiB;UACxE;UACA,gDAAgD,aAAa;UAC7D;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACoF;AACjC;AAEnD,MAAM;EAAEK,KAAK;EAAEC,SAAS;EAAEC;AAAQ,CAAC,GAAGH,+DAAK,CAAE,qBAAqB,EAAE;EACnEC,KAAK,EAAE;IACNG,CAAC,EAAE,IAAI;IACPC,EAAE,EAAE,EAAE;IACNC,GAAG,EAAE,IAAI;IACTC,CAAC,EAAE,IAAI;IACPC,OAAO,EAAE;EACV,CAAC;EACDL,OAAO,EAAE;IACRM,YAAY,EAAEA,CAACC,EAAE,GAAG,CAAC,KAAK;MACzB,MAAMC,OAAO,GAAGb,oEAAU,CAAC,qBAAqB,CAAC;MAEjDa,OAAO,CAACC,OAAO,GAAGD,OAAO,CAACE,GAAG,GAAG,CAACF,OAAO,CAACG,GAAG,GAAGH,OAAO,CAACE,GAAG,IAAEX,SAAS,CAACa,SAAS,CAACL,EAAE,GAACC,OAAO,CAACK,GAAG,CAAC;MAE/F,IAAGN,EAAE,KAAKC,OAAO,CAACK,GAAG,EAAE;QACtBb,OAAO,CAACc,eAAe,CAAC,CAAC;QACzB;MACD;MACAhB,KAAK,CAACK,GAAG,GAAGY,qBAAqB,CAACnB,mEAAS,CAAC,MAAMI,OAAO,CAACM,YAAY,CAAC,EAAEC,EAAE,CAAC,CAAC,CAAC;IAE/E,CAAC;IACDO,eAAe,EAAEA,CAAA,KAAM;MACtBE,oBAAoB,CAAClB,KAAK,CAACK,GAAG,CAAC;MAC/BL,KAAK,CAACK,GAAG,GAAG,IAAI;IACjB,CAAC;IACDc,SAAS,EAAEA,CAAA,KAAM;MAChB,MAAM;QAAEC;MAAI,CAAC,GAAGxB,oEAAU,CAAC,CAAC;MAC5B,MAAMc,OAAO,GAAGb,oEAAU,CAAC,CAAC;MAE5Ba,OAAO,CAACW,MAAM,GAAG,KAAK;MACtB,MAAMC,MAAM,GAAGF,GAAG,CAACG,SAAS,CAACC,QAAQ,CAAE,8BAA+B,CAAC,GAAGJ,GAAG,CAACK,iBAAiB,GAAGL,GAAG,CAACM,aAAa;MAEnHJ,MAAM,CAACK,KAAK,CAACC,WAAW,CAAE,KAAK,EAAElB,OAAO,CAACC,OAAQ,CAAC;MAClDW,MAAM,CAACC,SAAS,CAACM,MAAM,CAAE,QAAS,CAAC;MAEnC,MAAM;QAAEC;MAAS,CAAC,GAAGR,MAAM,CAACG,iBAAiB;MAC7C,CAAE,GAAGK,QAAQ,CAAE,CAACC,OAAO,CAAE,CAAEC,IAAI,EAAEC,KAAK,KAAM;QAC3CD,IAAI,CAACE,WAAW,GAAKD,KAAK,KAAKvB,OAAO,CAACC,OAAO,GAAK,MAAM,GAAG,IAAI;MACjE,CAAE,CAAC;IACJ,CAAC;IACDwB,KAAK,EAAIC,CAAC,IAAM;MACf,IAAG,CAACA,CAAC,EAAE,OAAOpC,KAAK,CAACO,OAAO;MAC3BP,KAAK,CAACO,OAAO,GAAG6B,CAAC,CAACC,cAAc,GAAGD,CAAC,CAACC,cAAc,CAAE,CAAC,CAAE,GAAGD,CAAC;MAC5D,OAAOpC,KAAK,CAACO,OAAO;IACrB,CAAC;IACD+B,IAAI,EAAIF,CAAC,IAAM;MACd,MAAM;QAAEhB;MAAI,CAAC,GAAGxB,oEAAU,CAAC,CAAC;MAC5B,MAAMc,OAAO,GAAGb,oEAAU,CAAC,CAAC;MAE5Ba,OAAO,CAAC6B,EAAE,GAAGrC,OAAO,CAACiC,KAAK,CAAEC,CAAE,CAAC,CAAC7B,OAAO;MACvCG,OAAO,CAACW,MAAM,GAAG,IAAI;MACrBD,GAAG,CAACM,aAAa,CAACH,SAAS,CAACiB,GAAG,CAAE,QAAS,CAAC;MAC3CpB,GAAG,CAACqB,aAAa,GAAG3C,mEAAS,CAAEsC,CAAC,IAAK;QACpClC,OAAO,CAACwC,IAAI,CAACN,CAAC,CAAC;MAChB,CAAC,CAAC;MACFhB,GAAG,CAACuB,iBAAiB,CAACP,CAAC,CAACQ,SAAS,CAAC;IAEnC,CAAC;IACDF,IAAI,EAAIN,CAAC,IAAM;MACdA,CAAC,CAACS,cAAc,CAAC,CAAC;MAClB,MAAMnC,OAAO,GAAGb,oEAAU,CAAC,CAAC;MAC5B,IAAK,CAAEa,OAAO,CAACW,MAAM,EAAG;QACvB;MACD;MAEAX,OAAO,CAACgC,IAAI,GAAG,IAAI;MACnB,MAAM;QAAEtB;MAAI,CAAC,GAAGxB,oEAAU,CAAC,CAAC;MAC5B,MAAMkD,QAAQ,GAAG5C,OAAO,CAACiC,KAAK,CAAEC,CAAE,CAAC,CAAC7B,OAAO;MAE3C,MAAMwC,EAAE,GAAGD,QAAQ,GAAGpC,OAAO,CAAC6B,EAAE;QAC/BS,CAAC,GAAG,CAAC,CAAED,EAAE,GAAG/C,KAAK,CAACG,CAAC,EAAG8C,OAAO,CAAE,CAAE,CAAC;MAEnCvC,OAAO,CAACwC,OAAO,EAAE;MAEjB,MAAMC,KAAK,GAAGzC,OAAO,CAACC,OAAO,GAAGqC,CAAC;MACjC5B,GAAG,CAACM,aAAa,CAACC,KAAK,CAACC,WAAW,CAAE,KAAK,EAAG,GAAGuB,KAAO,EAAE,CAAC;MAE1D,MAAMC,SAAS,GAAGD,KAAK,GAAGzC,OAAO,CAACC,OAAO;MACzC,IAAGyC,SAAS,GAAG,GAAG,IAAIA,SAAS,GAAG,CAAC,GAAG,IAAI1C,OAAO,CAACwC,OAAO,GAAG,EAAE,EAAE;QAC/DhD,OAAO,CAACmD,IAAI,CAACjB,CAAC,CAAC;MAChB;IAED,CAAC;IACDiB,IAAI,EAAIjB,CAAC,IAAM;MACd,MAAM1B,OAAO,GAAGb,oEAAU,CAAC,CAAC;MAC5B,IAAK,CAAEa,OAAO,CAACW,MAAM,EAAG;QACvB;MACD;MAEAX,OAAO,CAACwC,OAAO,GAAG,CAAC;MAEnB,MAAMH,EAAE,GAAG7C,OAAO,CAACiC,KAAK,CAAEC,CAAE,CAAC,CAAC7B,OAAO,GAAGG,OAAO,CAAC6B,EAAE;MAClD,MAAMe,CAAC,GAAGC,IAAI,CAACC,IAAI,CAAET,EAAG,CAAC;MACzB,IAAIC,CAAC,GAAG,CAAC,CAAEM,CAAC,GAAGP,EAAE,GAAG/C,KAAK,CAACG,CAAC,EAAG8C,OAAO,CAAE,CAAE,CAAC;MAE1CvC,OAAO,CAACE,GAAG,GAAGF,OAAO,CAACC,OAAO,GAAK2C,CAAC,GAAGN,CAAG;MAEzC,IAAK,CAAEtC,OAAO,CAACC,OAAO,GAAG,CAAC,IAAI2C,CAAC,GAAG,CAAC,MAAQ5C,OAAO,CAACC,OAAO,GAAGD,OAAO,CAAC+C,CAAC,GAAG,CAAC,IAAIH,CAAC,GAAG,CAAC,CAAE,IAAIN,CAAC,GAAG,EAAE,EAAG;QACjGtC,OAAO,CAACC,OAAO,IAAI2C,CAAC;QACpBN,CAAC,GAAG,CAAC,GAAGA,CAAC;MACV;MAEAtC,OAAO,CAACG,GAAG,GAAGH,OAAO,CAACC,OAAO;MAE7BD,OAAO,CAACK,GAAG,GAAGwC,IAAI,CAACG,KAAK,CAAEV,CAAC,GAAGhD,KAAK,CAACI,EAAG,CAAC;MAExCJ,KAAK,CAACM,CAAC,GAAG,CAAC,GAAGiD,IAAI,CAACG,KAAK,CAACV,CAAC,CAAC;MAC3B9C,OAAO,CAACM,YAAY,CAAC,CAAC;MAEtBE,OAAO,CAAC6B,EAAE,GAAG,IAAI;MAEjB7B,OAAO,CAACC,OAAO,GAAG4C,IAAI,CAACG,KAAK,CAAEhD,OAAO,CAACG,GAAG,CAACoC,OAAO,CAAC,CAAE,CAAC;MAErD,MAAM;QAAE7B;MAAI,CAAC,GAAGxB,oEAAU,CAAC,CAAC;MAE5BwB,GAAG,CAACqB,aAAa,GAAG,IAAI;MAExBL,CAAC,IAAIhB,GAAG,CAACuC,qBAAqB,CAACvB,CAAC,CAACQ,SAAS,CAAC;MAE3C1C,OAAO,CAACiB,SAAS,CAAEiB,CAAE,CAAC;IAEvB,CAAC;IACDwB,OAAO,EAAIxB,CAAC,IAAM;MACjB,MAAM;QAAEyB;MAAQ,CAAC,GAAGzB,CAAC;MAErB,MAAM1B,OAAO,GAAGb,oEAAU,CAAC,CAAC;MAC5B,IAAIiE,SAAS,GAAGpD,OAAO,CAACC,OAAO;QAC9BoD,UAAU;QACVC,YAAY,GAAG,KAAK;MAErB,QAASH,OAAO;QACf,KAAK,EAAE;UACNzB,CAAC,CAACS,cAAc,CAAC,CAAC;UAClBkB,UAAU,GAAGrD,OAAO,CAACC,OAAO,GAAG,CAAC;UAChCqD,YAAY,GAAGD,UAAU,GAAG,CAAC;UAC7BD,SAAS,GAAGE,YAAY,GAAG,CAAC,GAAGD,UAAU;UACzC;QACD,KAAK,EAAE;UACN3B,CAAC,CAACS,cAAc,CAAC,CAAC;UAClBkB,UAAU,GAAGrD,OAAO,CAACC,OAAO,GAAG,CAAC;UAChCqD,YAAY,GAAGD,UAAU,IAAIrD,OAAO,CAAC+C,CAAC;UACtCK,SAAS,GAAGE,YAAY,GAAGtD,OAAO,CAACC,OAAO,GAAGoD,UAAU;UACvD;QACD;UACC;MACF;MAEArD,OAAO,CAACC,OAAO,GAAGmD,SAAS;MAC3BpD,OAAO,CAACG,GAAG,GAAGH,OAAO,CAACC,OAAO;MAC7BD,OAAO,CAACW,MAAM,GAAG2C,YAAY;MAE7B9D,OAAO,CAACiB,SAAS,CAAC,CAAC;IACpB,CAAC;IACD8C,uBAAuB,EAAI7B,CAAC,IAAM;MACjCA,CAAC,CAACS,cAAc,CAAC,CAAC;MAElB,MAAMnC,OAAO,GAAGb,oEAAU,CAAC,CAAC;MAE5B,MAAM;QAAEuB;MAAI,CAAC,GAAGxB,oEAAU,CAAC,CAAC;MAC5Bc,OAAO,CAACwD,GAAG,CAACC,QAAQ,GAAG,IAAI;MAC3BzD,OAAO,CAACC,OAAO,GAAG,OAAO,IAAIS,GAAG,CAACgD,OAAO,GAAGC,QAAQ,CAAEjD,GAAG,CAACgD,OAAO,CAACnC,KAAM,CAAC,GAAGvB,OAAO,CAACC,OAAO;MAE1FS,GAAG,CAACkD,aAAa,CAAE7E,4DAAgB,CAAC;IACrC,CAAC;IACD8E,YAAY,EAAInC,CAAC,IAAM;MACtBA,CAAC,CAACoC,eAAe,CAAC,CAAC;MACnBtE,OAAO,CAACiB,SAAS,CAAC,CAAC;IACpB,CAAC;IACDsD,KAAK,EAAEA,CAAA,KAAM;MACZ,MAAM;QAAErD;MAAI,CAAC,GAAGxB,oEAAU,CAAC,CAAC;MAC5B,MAAMc,OAAO,GAAGb,oEAAU,CAAC,CAAC;MAE5BI,SAAS,CAACyE,IAAI,CAAC,CAAC;MAEhBhE,OAAO,CAAC+C,CAAC,GAAGrC,GAAG,CAACU,QAAQ,CAAC6C,MAAM;MAC/BjE,OAAO,CAACkE,KAAK,GAAG,IAAI;MAEpB,MAAM;QAAEC,CAAC;QAAEC;MAAM,CAAC,GAAG1D,GAAG,CAACM,aAAa,CAACA,aAAa,CAACqD,qBAAqB,CAAC,CAAC;MAC5E,MAAM;QAAEC;MAAW,CAAC,GAAGC,MAAM;MAE7B7D,GAAG,CAACM,aAAa,CAACC,KAAK,CAACC,WAAW,CAAE,KAAK,EAAG,GAAGlB,OAAO,CAAC+C,CAAG,EAAE,CAAC;MAC9DrC,GAAG,CAACM,aAAa,CAACC,KAAK,CAACC,WAAW,CAAE,qBAAqB,EAAG,GAAGiD,CAAG,IAAI,CAAC;MACxEzD,GAAG,CAACM,aAAa,CAACC,KAAK,CAACC,WAAW,CAAE,sBAAsB,EAAG,GAAGoD,UAAU,IAAKF,KAAK,GAAGD,CAAC,CAAI,IAAI,CAAC;MAElG,MAAM;QAAE/C;MAAS,CAAC,GAAGV,GAAG;MACxB,CAAE,GAAGU,QAAQ,CAAE,CAACC,OAAO,CAAE,CAAEC,IAAI,EAAEC,KAAK,KAAM;QAC3CD,IAAI,CAACE,WAAW,GAAKD,KAAK,KAAKvB,OAAO,CAACC,OAAO,GAAK,MAAM,GAAG,IAAI;QAChEqB,IAAI,CAACkD,mBAAmB,GAAG,OAAO;QAClClD,IAAI,CAACmD,IAAI,GAAG,UAAU;QACtBnD,IAAI,CAACoD,EAAE,GAAI,GAAEhE,GAAG,CAACgE,EAAG,IAAGnD,KAAM,EAAC;MAC/B,CAAE,CAAC;MAGH/B,OAAO,CAACiB,SAAS,CAAC,CAAC;IACpB;EACD,CAAC;EACDlB,SAAS,EAAE;IACVyE,IAAI,EAAEA,CAAA,KAAM;MACX1E,KAAK,CAACG,CAAC,GAAG8E,MAAM,CAACD,UAAU;MAC3B,MAAM;QAAE5D;MAAI,CAAC,GAAGxB,oEAAU,CAAC,CAAC;MAE5B,MAAM;QAAEiF,CAAC;QAAEC;MAAM,CAAC,GAAG1D,GAAG,CAACM,aAAa,CAACA,aAAa,CAACqD,qBAAqB,CAAC,CAAC;MAC5E,MAAM;QAAEC;MAAW,CAAC,GAAGC,MAAM;MAC7B7D,GAAG,CAACM,aAAa,CAACC,KAAK,CAACC,WAAW,CAAE,qBAAqB,EAAG,GAAGiD,CAAG,IAAI,CAAC;MACxEzD,GAAG,CAACM,aAAa,CAACC,KAAK,CAACC,WAAW,CAAE,sBAAsB,EAAG,GAAGoD,UAAU,IAAKF,KAAK,GAAGD,CAAC,CAAI,IAAI,CAAC;IACnG,CAAC;IACDQ,aAAa,EAAEA,CAAA,KAAM;MACpB,MAAM3E,OAAO,GAAGb,oEAAU,CAAE,qBAAsB,CAAC;MACnDa,OAAO,CAAC4E,IAAI,CAACvD,OAAO,CAAIC,IAAI,IAAMA,IAAI,CAACuD,QAAQ,GAAKvD,IAAI,CAACC,KAAK,KAAKvB,OAAO,CAACC,OAAO,GAAK,MAAM,GAAG,IAAK,CAAC;IACvG,CAAC;IACDG,SAAS,EAAEA,CAAC0E,CAAC,EAAEC,CAAC,GAAG,IAAI,EAAEC,CAAC,GAAG,GAAG,KAAK;MACpC,OAAO,CAAC,GAAGnC,IAAI,CAACoC,GAAG,CAAC,CAAC,GAAGH,CAAC,EAAEC,CAAC,CAAC,GAAClC,IAAI,CAACqC,GAAG,CAACrC,IAAI,CAACsC,GAAG,CAACtC,IAAI,CAACoC,GAAG,CAACH,CAAC,EAAEE,CAAC,CAAC,IAAE1F,KAAK,CAACM,CAAC,GAAG,EAAE,CAAC,GAACiD,IAAI,CAACuC,EAAE,CAAC,CAAC;IACxF;EACD;AACD,CAAE,CAAC,C","sources":["webpack://design-system-dark-mode/./src/helpers/Events.js","webpack://design-system-dark-mode/external module \"@wordpress/interactivity\"","webpack://design-system-dark-mode/webpack/bootstrap","webpack://design-system-dark-mode/webpack/runtime/define property getters","webpack://design-system-dark-mode/webpack/runtime/hasOwnProperty shorthand","webpack://design-system-dark-mode/webpack/runtime/make namespace object","webpack://design-system-dark-mode/./src/view.js"],"sourcesContent":["export const navigateToFrame = new CustomEvent( 'frame-navigates-to', {\n\tbubbles: true,\n} );\n","var x = (y) => {\n\tvar x = {}; __webpack_require__.d(x, y); return x\n} \nvar y = (x) => (() => (x))\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies\n *\n *\n */\nimport { getElement, getContext, withScope, store } from '@wordpress/interactivity';\nimport { navigateToFrame } from './helpers/Events';\n\nconst { state, callbacks, actions } = store( 'design-system-frame', {\n\tstate: {\n\t\tw: null,\n\t\tNF: 50,\n\t\trID: null,\n\t\tn: null,\n\t\tclientX: 0\n\t},\n\tactions: {\n\t\trunAnimation: (cf = 0) => {\n\t\t\tconst context = getContext('design-system-frame');\n\n\t\t\tcontext.current = context.ini + (context.fin - context.ini)*callbacks.bounceOut(cf/context.anf);\n\n\t\t\tif(cf === context.anf) {\n\t\t\t\tactions.cancelAnimation();\n\t\t\t\treturn\n\t\t\t}\n\t\t\tstate.rID = requestAnimationFrame(withScope(() => actions.runAnimation(++cf)))\n\n\t\t},\n\t\tcancelAnimation: () => {\n\t\t\tcancelAnimationFrame(state.rID);\n\t\t\tstate.rID = null\n\t\t},\n\t\t_setFrame: () => {\n\t\t\tconst { ref } = getElement();\n\t\t\tconst context = getContext();\n\n\t\t\tcontext.locked = false;\n\t\t\tconst target = ref.classList.contains( 'wp-block-design-system-frame' ) ? ref.firstElementChild : ref.parentElement;\n\n\t\t\ttarget.style.setProperty( '--i', context.current );\n\t\t\ttarget.classList.remove( 'smooth' );\n\n\t\t\tconst { children } = target.firstElementChild;\n\t\t\t[ ...children ].forEach( ( item, index ) => {\n\t\t\t\titem.ariaCurrent = ( index === context.current ) ? 'step' : null;\n\t\t\t} );\n\t\t},\n\t\tunify: ( e ) => {\n\t\t\tif(!e) return state.clientX;\n\t\t\tstate.clientX = e.changedTouches ? e.changedTouches[ 0 ] : e\n\t\t\treturn state.clientX;\n\t\t},\n\t\tlock: ( e ) => {\n\t\t\tconst { ref } = getElement();\n\t\t\tconst context = getContext();\n\n\t\t\tcontext.x0 = actions.unify( e ).clientX;\n\t\t\tcontext.locked = true;\n\t\t\tref.parentElement.classList.add( 'smooth' );\n\t\t\tref.onpointermove = withScope((e) => {\n\t\t\t\tactions.drag(e)\n\t\t\t});\n\t\t\tref.setPointerCapture(e.pointerId);\n\n\t\t},\n\t\tdrag: ( e ) => {\n\t\t\te.preventDefault();\n\t\t\tconst context = getContext();\n\t\t\tif ( ! context.locked ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcontext.drag = true;\n\t\t\tconst { ref } = getElement();\n\t\t\tconst unifiedX = actions.unify( e ).clientX;\n\n\t\t\tconst dx = unifiedX - context.x0,\n\t\t\t\tf = +( dx / state.w ).toFixed( 2 );\n\n\t\t\tcontext.tension++;\n\n\t\t\tconst frame = context.current - f;\n\t\t\tref.parentElement.style.setProperty( '--i', `${ frame }` );\n\n\t\t\tconst threshold = frame - context.current;\n\t\t\tif(threshold > 0.4 || threshold < -0.4 || context.tension > 20) {\n\t\t\t\tactions.move(e);\n\t\t\t}\n\n\t\t},\n\t\tmove: ( e ) => {\n\t\t\tconst context = getContext();\n\t\t\tif ( ! context.locked ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcontext.tension = 0;\n\n\t\t\tconst dx = actions.unify( e ).clientX - context.x0;\n\t\t\tconst s = Math.sign( dx );\n\t\t\tlet\tf = +( s * dx / state.w ).toFixed( 2 );\n\n\t\t\tcontext.ini = context.current - ( s * f );\n\n\t\t\tif ( ( context.current > 0 || s < 0 ) && ( context.current < context.N - 1 || s > 0 ) && f > .2 ) {\n\t\t\t\tcontext.current -= s;\n\t\t\t\tf = 1 - f;\n\t\t\t}\n\n\t\t\tcontext.fin = context.current;\n\n\t\t\tcontext.anf = Math.round( f * state.NF );\n\n\t\t\tstate.n = 2 + Math.round(f);\n\t\t\tactions.runAnimation();\n\n\t\t\tcontext.x0 = null;\n\n\t\t\tcontext.current = Math.round( context.fin.toFixed() );\n\n\t\t\tconst { ref } = getElement();\n\n\t\t\tref.onpointermove = null;\n\n\t\t\te && ref.releasePointerCapture(e.pointerId);\n\n\t\t\tactions._setFrame( e );\n\n\t\t},\n\t\tkeydown: ( e ) => {\n\t\t\tconst { keyCode } = e;\n\n\t\t\tconst context = getContext();\n\t\t\tlet nextFrame = context.current,\n\t\t\t\tfoundIndex,\n\t\t\t\tshouldUpdate = false;\n\n\t\t\tswitch ( keyCode ) {\n\t\t\t\tcase 37:\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tfoundIndex = context.current - 1;\n\t\t\t\t\tshouldUpdate = foundIndex < 0;\n\t\t\t\t\tnextFrame = shouldUpdate ? 0 : foundIndex;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 39:\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tfoundIndex = context.current + 1;\n\t\t\t\t\tshouldUpdate = foundIndex >= context.N;\n\t\t\t\t\tnextFrame = shouldUpdate ? context.current : foundIndex;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tcontext.current = nextFrame;\n\t\t\tcontext.fin = context.current;\n\t\t\tcontext.locked = shouldUpdate;\n\n\t\t\tactions._setFrame();\n\t\t},\n\t\tdispatchNavigationEvent: ( e ) => {\n\t\t\te.preventDefault();\n\n\t\t\tconst context = getContext();\n\n\t\t\tconst { ref } = getElement();\n\t\t\tcontext.dot.selected = true;\n\t\t\tcontext.current = 'index' in ref.dataset ? parseInt( ref.dataset.index ) : context.current;\n\n\t\t\tref.dispatchEvent( navigateToFrame );\n\t\t},\n\t\tonNavigation: ( e ) => {\n\t\t\te.stopPropagation();\n\t\t\tactions._setFrame();\n\t\t},\n\t\tstart: () => {\n\t\t\tconst { ref } = getElement();\n\t\t\tconst context = getContext();\n\n\t\t\tcallbacks.size();\n\n\t\t\tcontext.N = ref.children.length;\n\t\t\tcontext.ready = true;\n\n\t\t\tconst { x, width } = ref.parentElement.parentElement.getBoundingClientRect();\n\t\t\tconst { innerWidth } = window;\n\n\t\t\tref.parentElement.style.setProperty( '--n', `${ context.N }` );\n\t\t\tref.parentElement.style.setProperty( '--frame-offset-left', `${ x }px` );\n\t\t\tref.parentElement.style.setProperty( '--frame-offset-right', `${ innerWidth - ( width + x ) }px` );\n\n\t\t\tconst { children } = ref;\n\t\t\t[ ...children ].forEach( ( item, index ) => {\n\t\t\t\titem.ariaCurrent = ( index === context.current ) ? 'step' : null;\n\t\t\t\titem.ariaRoleDescription = 'slide';\n\t\t\t\titem.role = 'tabpanel';\n\t\t\t\titem.id = `${ref.id}-${index}`;\n\t\t\t} );\n\n\n\t\t\tactions._setFrame();\n\t\t},\n\t},\n\tcallbacks: {\n\t\tsize: () => {\n\t\t\tstate.w = window.innerWidth;\n\t\t\tconst { ref } = getElement();\n\n\t\t\tconst { x, width } = ref.parentElement.parentElement.getBoundingClientRect();\n\t\t\tconst { innerWidth } = window;\n\t\t\tref.parentElement.style.setProperty( '--frame-offset-left', `${ x }px` );\n\t\t\tref.parentElement.style.setProperty( '--frame-offset-right', `${ innerWidth - ( width + x ) }px` );\n\t\t},\n\t\tresetSelected: () => {\n\t\t\tconst context = getContext( 'design-system-frame' );\n\t\t\tcontext.list.forEach( ( item ) => item.disabled = ( item.index === context.current ) ? 'true' : null );\n\t\t},\n\t\tbounceOut: (k, a = 2.75, b = 1.5) => {\n\t\t\treturn 1 - Math.pow(1 - k, a)*Math.abs(Math.cos(Math.pow(k, b)*(state.n + .5)*Math.PI));\n\t\t}\n\t},\n} );\n"],"names":["navigateToFrame","CustomEvent","bubbles","getElement","getContext","withScope","store","state","callbacks","actions","w","NF","rID","n","clientX","runAnimation","cf","context","current","ini","fin","bounceOut","anf","cancelAnimation","requestAnimationFrame","cancelAnimationFrame","_setFrame","ref","locked","target","classList","contains","firstElementChild","parentElement","style","setProperty","remove","children","forEach","item","index","ariaCurrent","unify","e","changedTouches","lock","x0","add","onpointermove","drag","setPointerCapture","pointerId","preventDefault","unifiedX","dx","f","toFixed","tension","frame","threshold","move","s","Math","sign","N","round","releasePointerCapture","keydown","keyCode","nextFrame","foundIndex","shouldUpdate","dispatchNavigationEvent","dot","selected","dataset","parseInt","dispatchEvent","onNavigation","stopPropagation","start","size","length","ready","x","width","getBoundingClientRect","innerWidth","window","ariaRoleDescription","role","id","resetSelected","list","disabled","k","a","b","pow","abs","cos","PI"],"sourceRoot":""}